<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>WebGL基础知识 | crithesJie的博客文档</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="crithesJie">
    
    <link rel="preload" href="/gaojieDoc/assets/css/0.styles.9e6fc204.css" as="style"><link rel="preload" href="/gaojieDoc/assets/js/app.713b364e.js" as="script"><link rel="preload" href="/gaojieDoc/assets/js/3.cbaeffb4.js" as="script"><link rel="preload" href="/gaojieDoc/assets/js/1.790136b1.js" as="script"><link rel="preload" href="/gaojieDoc/assets/js/20.bf61bf13.js" as="script"><link rel="prefetch" href="/gaojieDoc/assets/js/10.78eb5da3.js"><link rel="prefetch" href="/gaojieDoc/assets/js/11.2b3109aa.js"><link rel="prefetch" href="/gaojieDoc/assets/js/12.3210027b.js"><link rel="prefetch" href="/gaojieDoc/assets/js/13.7b55b15e.js"><link rel="prefetch" href="/gaojieDoc/assets/js/14.b3bbe717.js"><link rel="prefetch" href="/gaojieDoc/assets/js/15.f36d7504.js"><link rel="prefetch" href="/gaojieDoc/assets/js/16.8239258f.js"><link rel="prefetch" href="/gaojieDoc/assets/js/17.549936e2.js"><link rel="prefetch" href="/gaojieDoc/assets/js/18.845d5e64.js"><link rel="prefetch" href="/gaojieDoc/assets/js/19.cf758925.js"><link rel="prefetch" href="/gaojieDoc/assets/js/21.0fdc80ec.js"><link rel="prefetch" href="/gaojieDoc/assets/js/22.c6ecb104.js"><link rel="prefetch" href="/gaojieDoc/assets/js/23.27223034.js"><link rel="prefetch" href="/gaojieDoc/assets/js/24.31e80cd9.js"><link rel="prefetch" href="/gaojieDoc/assets/js/25.5aca483f.js"><link rel="prefetch" href="/gaojieDoc/assets/js/26.6e3a0bc0.js"><link rel="prefetch" href="/gaojieDoc/assets/js/27.0ff0e880.js"><link rel="prefetch" href="/gaojieDoc/assets/js/28.60c3de8c.js"><link rel="prefetch" href="/gaojieDoc/assets/js/29.1c1245a3.js"><link rel="prefetch" href="/gaojieDoc/assets/js/30.98fa33c7.js"><link rel="prefetch" href="/gaojieDoc/assets/js/31.2b96c834.js"><link rel="prefetch" href="/gaojieDoc/assets/js/32.459e0b9d.js"><link rel="prefetch" href="/gaojieDoc/assets/js/33.b9b3a632.js"><link rel="prefetch" href="/gaojieDoc/assets/js/34.90598a5b.js"><link rel="prefetch" href="/gaojieDoc/assets/js/35.7c81a08a.js"><link rel="prefetch" href="/gaojieDoc/assets/js/36.5188b8e2.js"><link rel="prefetch" href="/gaojieDoc/assets/js/37.7992bccd.js"><link rel="prefetch" href="/gaojieDoc/assets/js/38.37608ee8.js"><link rel="prefetch" href="/gaojieDoc/assets/js/39.486b92ce.js"><link rel="prefetch" href="/gaojieDoc/assets/js/4.2eaf2991.js"><link rel="prefetch" href="/gaojieDoc/assets/js/40.acaf08c5.js"><link rel="prefetch" href="/gaojieDoc/assets/js/41.a99b805b.js"><link rel="prefetch" href="/gaojieDoc/assets/js/5.db0b541d.js"><link rel="prefetch" href="/gaojieDoc/assets/js/6.4f171289.js"><link rel="prefetch" href="/gaojieDoc/assets/js/7.eb05470f.js"><link rel="prefetch" href="/gaojieDoc/assets/js/8.db3ae41e.js"><link rel="prefetch" href="/gaojieDoc/assets/js/9.abb40ed3.js">
    <link rel="stylesheet" href="/gaojieDoc/assets/css/0.styles.9e6fc204.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-130b300a><div data-v-130b300a><div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-130b300a data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>crithesJie的博客文档</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>crithesJie</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div class="hide" data-v-130b300a><header class="navbar" data-v-130b300a><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/gaojieDoc/" class="home-link router-link-active"><!----> <span class="site-name">crithesJie的博客文档</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/gaojieDoc/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="https://github.com/crithes" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/gao-jie-test" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/gaojieDoc/aboutme/index.html" class="nav-link"><i class="undefined"></i>
  关于我
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-130b300a></div> <aside class="sidebar" data-v-130b300a><div class="personal-info-wrapper" data-v-39576ba9 data-v-130b300a><!----> <!----> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>30</h3> <h6 data-v-39576ba9>文章</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>0</h3> <h6 data-v-39576ba9>标签</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/gaojieDoc/handbook/ConditionalTypes.html" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="https://github.com/crithes" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/gao-jie-test" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/gaojieDoc/aboutme/index.html" class="nav-link"><i class="undefined"></i>
  关于我
</a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发问题总结</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/gaojieDoc/git/git.html" class="sidebar-link">git相关</a></li><li><a href="/gaojieDoc/api/api.html" class="sidebar-link">常用数据处理Api</a></li><li><a href="/gaojieDoc/personal/personal.html" class="sidebar-link">个人作品</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>webGL相关</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/gaojieDoc/webGL/webGL.html" class="sidebar-link">WebGL相关</a></li><li><a href="/gaojieDoc/webGL/3d.html" class="sidebar-link">3d相关</a></li><li><a href="/gaojieDoc/webGL/threejs.html" class="sidebar-link">threejs</a></li><li><a href="/gaojieDoc/webGL/cesium.html" class="sidebar-link">cesium</a></li><li><a href="/gaojieDoc/webGL/webGLBasics.html" aria-current="page" class="active sidebar-link">WebGL基础</a></li></ul></section></li><li><a href="/gaojieDoc/lowcode/lowcode.html" class="sidebar-link">低代码</a></li><li><a href="/gaojieDoc/mianshi/mianshi.html" class="sidebar-link">面试常见</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/gaojieDoc/vue/vuex" class="sidebar-heading clickable"><span>vue相关</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/gaojieDoc/mac/mac.html" class="sidebar-link">mac相关问题</a></li><li><a href="/gaojieDoc/map/map.html" class="sidebar-link">地图相关</a></li><li><a href="/gaojieDoc/sourceCode/sourceCode.html" class="sidebar-link">源码系列</a></li><li><a href="/gaojieDoc/personal/skillArticle.html" class="sidebar-link">技巧文章</a></li><li><a href="/gaojieDoc/webpack/webpack.html" class="sidebar-link">webpack相关</a></li><li><a href="/gaojieDoc/deep/deep.html" class="sidebar-link">程序员底层相关</a></li><li><a href="/gaojieDoc/algorithm/algorithm.html" class="sidebar-link">算法相关</a></li><li><a href="/gaojieDoc/principle/principle.html" class="sidebar-link">原理相关</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-130b300a><h3 class="title" data-v-25ba6db2 data-v-25ba6db2></h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><!---->
            
          <!---->
          2022
        </a></span></div></div> <div data-v-130b300a><main class="page"><section><div class="page-title"><h1 class="title">WebGL基础知识</h1> <div data-v-f875f3fc><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="webgl基础知识"><a href="#webgl基础知识" class="header-anchor">#</a> WebGL基础知识</h1> <h2 id="_1-webgl与three-js的基础、与opengl的关系"><a href="#_1-webgl与three-js的基础、与opengl的关系" class="header-anchor">#</a> 1.WebGL与three.js的基础、与opengl的关系</h2> <ul><li>WebGL是一项可以在浏览器中流畅展示3d模型和场景的一种技术</li> <li>three.js（c语言）是一个封装好的webgl库（汇编语言），它使WebGL的学习更加简单</li> <li>WebGL能做什么？游戏，家居，虚拟现实，城市地图，cad制图</li></ul> <p>扩展1：浏览器为什么能绘制3d技术？</p> <ul><li>因为浏览器实现了opengl es的规范，这套规范可以，直接使用指令操作显卡，使显卡渲染的3d世界，直接翻译到浏览器器上</li></ul> <h2 id="_2-四大组建"><a href="#_2-四大组建" class="header-anchor">#</a> 2.四大组建</h2> <ul><li>场景—舞台—任何要显示的东西 —可以放2个或多个场景</li> <li>相机—透视相机（远小近大）和正投影相机（远近一样大</li> <li>渲染器—计算的过程叫做渲染</li> <li>几何体—场景中的对象—网格模型</li></ul> <p>扩展1：场景，相机，几何物体在坐标系中，默认的位置是什么？原点在近平面还是那个位置？</p> <ul><li>在世界坐标的（0，0，0），场景永远在000，没有坐标的概念，相机，几何物体在原点</li> <li>原点不一定在近平面上</li></ul> <p>扩展2：setClearColorHex和setClearColor区别？</p> <ul><li>相同：设置背景颜色</li> <li>不同：threejs版本问题—查看源码setClearColor为新版本，防止语意化，不一定就非要设置16进制的颜色</li></ul> <h2 id="_3-程序启动和执行顺序"><a href="#_3-程序启动和执行顺序" class="header-anchor">#</a> 3.程序启动和执行顺序</h2> <ul><li>启动入口：body里面的onload=&quot;threeStart()&quot;，script写threeStart函数调用</li> <li>执行顺序：初始化获取div元素，初始化渲染器（antialias为true时，抗锯齿，线渲染更清晰，更好的算法渲染，更占用性能），数据量大设置为false, appendChild追加到页面，setClearColor刷新重新绘制，粉刷</li> <li>初始化相机，第三个参数最佳能看到多少米Near，第四个参数最远能看到多少米Far(部分模型城市看不到时，可设置打一点，如40000)，设置相机位置position.x,y,z,up和lookAt</li> <li>初始化场景</li> <li>初始化灯光—平行光</li> <li>初始化对象/模型</li> <li>渲染器清除—renderer.clear()</li> <li>再次渲染—renderer.render(scene, camera)</li></ul> <h2 id="_4-点-几何体-线材质"><a href="#_4-点-几何体-线材质" class="header-anchor">#</a> 4.点，几何体，线材质</h2> <ul><li>点：THREE.Vector3(x,y,z)—右手坐标系</li></ul> <p><img src="/gaojieDoc/assets/img/5.370bcf28.png" alt="Image Text"></p> <ul><li>几何体：THREE.Geometry()—三维数据结构，包含vertices点数组，colors颜色数组，faces面数组</li> <li>geometry.vertices.push(new THREE.Vector3(-10,10,0),new THREE.Vector3(10,-10,0))</li> <li>geometry.colors.push(new THREE.Color(0xFF0000),new THREE.Color(0xFF0000))—设置线渐变颜色（颜色插值，颜色取决于插值函数）</li> <li>线材质：THREE.LineBasicMaterial()—vertexColors: true,使用顶点颜色</li> <li>材质：材料和质感的结合，各属性的集合</li></ul> <h2 id="_5-坐标系"><a href="#_5-坐标系" class="header-anchor">#</a> 5.坐标系</h2> <ul><li>世界坐标—公共的场景坐标</li> <li>本地坐标—某个模型物体内的坐标系</li> <li>查看坐标轴— THREE.AxisHelper(4)</li></ul> <p>扩展1：关于围绕某个轴旋转？</p> <ul><li>rotation.y+: 右手大拇指朝上，四指弯曲的方向为+的正方形，rotation.y -：相反</li></ul> <p>扩展2：如何将模型和坐标系一起旋转？</p> <ul><li>THREE.Object3D()</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">var</span> objectTotal <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Object3D</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
objectTotal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>model<span class="token punctuation">)</span>
objectTotal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>AxisHelper<span class="token punctuation">)</span>
scene<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>objectTotal<span class="token punctuation">)</span>
objectTotal<span class="token punctuation">.</span>rotation<span class="token punctuation">.</span>y <span class="token operator">-=</span> <span class="token number">0.01</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_6-常用可视化框架"><a href="#_6-常用可视化框架" class="header-anchor">#</a> 6.常用可视化框架</h2> <ul><li>百度的「echarts」 蚂蚁的「antv」</li> <li>2d 就是「canvas、 svg」</li> <li>2d游戏Phaser</li> <li>3d 就是 「three.js 或者webgl」 或者 「babylon.js」,ue4,unity</li> <li>vue：sandi-ui</li> <li>react：lingo3d</li> <li>蚂蚁金服开源3d web引擎Oasis Engine</li></ul> <h2 id="_7-常见的文件在线地址"><a href="#_7-常见的文件在线地址" class="header-anchor">#</a> 7.常见的文件在线地址</h2> <ul><li>three.js：http://www.yanhuangxueyuan.com/threejs/build/three.js</li> <li>three.min.js：http://www.yanhuangxueyuan.com/threejs/build/three.min.js</li> <li>OrbitControls.js：http://www.yanhuangxueyuan.com/threejs/examples/js/controls/OrbitControls.js</li> <li>OBJLoader.js：http://www.yanhuangxueyuan.com/threejs/examples/js/loaders/OBJLoader.js</li> <li>MTLLoader.js：http://www.yanhuangxueyuan.com/threejs/examples/js/loaders/MTLLoader.js</li></ul> <h2 id="_8-常见物理引擎"><a href="#_8-常见物理引擎" class="header-anchor">#</a> 8.常见物理引擎</h2> <ul><li><p>碰撞检测物理引擎：cannon.js和ammo.js和oimo.js，bullet（opencl加速，不用局限于某个特定的显卡，学术，头发），physx（游戏，商业，unity自带的），havok（商业）</p></li> <li><p>3D 物理引擎库有 Cannon.js（推荐）、Oimo.js（轻量）、Ammo.js、Energy.js（源码不可读）、Physijs（不能用）</p></li> <li><p>cannon.js教程推荐：https://www.mrguo.link/home</p></li></ul> <h2 id="_9-场景建模软件"><a href="#_9-场景建模软件" class="header-anchor">#</a> 9.场景建模软件</h2> <ul><li>c4d blender 3dmax</li></ul> <h2 id="_10-学shader用的网站"><a href="#_10-学shader用的网站" class="header-anchor">#</a> 10.学shader用的网站</h2> <ul><li>thebookofshaders.com（shader入门必备）</li> <li>wgld.org（只有日文，直接啃生肉学的，也是偏基础）</li> <li>smoothstep.io（可以在线直接编辑shader）</li> <li>www.shadertoy.com（上面有很多酷炫的shader供学习用）</li> <li>iquilezles.org（学到raymarching必看，iq yyds）</li></ul> <h2 id="_11-天空盒"><a href="#_11-天空盒" class="header-anchor">#</a> 11.天空盒</h2> <ul><li>天空盒：一个包含场景所有元素的盒子</li> <li>创建天空盒的三种方式：地址：https://blog.csdn.net/xyphf/article/details/121854384</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token number">1.</span>创建一个盒子，然后将图片作为盒子<span class="token number">6</span>个面的<span class="token punctuation">[</span>纹理<span class="token punctuation">]</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>so<span class="token punctuation">.</span>csdn<span class="token punctuation">.</span>net<span class="token operator">/</span>so<span class="token operator">/</span>search<span class="token operator">?</span>q<span class="token operator">=</span>纹理<span class="token operator">&amp;</span>spm<span class="token operator">=</span><span class="token number">1001.2101</span><span class="token number">.3001</span><span class="token number">.7020</span><span class="token punctuation">)</span>贴上来创建—<span class="token constant">THREE</span><span class="token punctuation">.</span><span class="token function">Mesh</span><span class="token punctuation">(</span> skyGeometry<span class="token punctuation">,</span> skyMaterial <span class="token punctuation">)</span>—全景贴图

<span class="token number">2.</span>简单的将纹理作为场景的背景来创建—CubeTextureLoader—给盒子加背景

<span class="token number">3.</span>通过着色器的形式

skyBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>Mesh</span><span class="token punctuation">(</span>
    <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>BoxGeometry</span><span class="token punctuation">(</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>ShaderMaterial</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">fragmentShader</span><span class="token operator">:</span> skyboxShader<span class="token punctuation">.</span>fragmentShader<span class="token punctuation">,</span><span class="token comment">//片段着色器</span>
    <span class="token literal-property property">vertexShader</span><span class="token operator">:</span> skyboxShader<span class="token punctuation">.</span>vertexShader<span class="token punctuation">,</span><span class="token comment">//顶点着色器</span>
    <span class="token literal-property property">uniforms</span><span class="token operator">:</span> skyboxShader<span class="token punctuation">.</span>uniforms<span class="token punctuation">,</span><span class="token comment">//是所有顶点都具有相同的值的变量。 比如灯光，</span>
<span class="token comment">// 雾，和阴影贴图就是被储存在uniforms中的数据。 uniforms可以通过顶点着色器和片元着色器来访问。</span>
    <span class="token literal-property property">depthWrite</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><span class="token comment">//深度测试</span>
    <span class="token literal-property property">side</span><span class="token operator">:</span> <span class="token constant">THREE</span><span class="token punctuation">.</span>BackSide<span class="token comment">//正反面</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="_12-动画分类"><a href="#_12-动画分类" class="header-anchor">#</a> 12.动画分类</h2> <ul><li>补间动画—tween—让动画更平滑：.easing(TWEEN.Easing.Quadratic.Out)</li> <li>帧动画—frame 帧动画 AnimationDrawable 控制 animation-list xml布局</li> <li>属性动画—animationClip</li></ul> <p>扩展1：关键帧动画具体参数</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 创建帧动画对象，使name为door几何体，在3秒内沿着y轴旋转顺时钟旋转90度</span>
<span class="token keyword">const</span> rotationTrack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">THREE<span class="token punctuation">.</span>KeyframeTrack</span><span class="token punctuation">(</span>
  <span class="token string">'door.rotation[y]'</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span>Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 关键帧轨道</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>扩展2：tween动画和animationClip动画的区别？</p> <ul><li>tween动画：通过view的matrix和alpha变量对view进行修改，但是并不会修改view自身属性—补间动画</li> <li>animationClip动画：会修改view的自身属性，动画结束后的效果会实实在在的反应在view上—属性动画</li></ul> <h2 id="_13-场景模型来源及学习网址"><a href="#_13-场景模型来源及学习网址" class="header-anchor">#</a> 13.场景模型来源及学习网址</h2> <ul><li>gltf和glb格式模型下载网站：www.webvrmodel.com</li> <li>免费模型下载：https://sketchfab.com/search?q=girl&amp;type=models</li> <li>制作动画，绑定骨骼：www.mixamo.com/</li> <li>cesium开发案例：http://www.zgeo.work/CesiumTx/examples/index.html#baseDemo-czmlDemo</li> <li>cesium学习：https://blog.csdn.net/weixin_45782925/article/details/123269490</li> <li>游戏开发文章：https://zhuanlan.zhihu.com/p/430541328?utm_source=qq&amp;utm_medium=social&amp;utm_oi=896405010206834689</li> <li>3d模型处理：https://3dviewer.net/</li> <li>webgl理论学习：https://webglfundamentals.org/webgl/lessons/zh_cn/</li> <li>xt3d:https://blog.csdn.net/xietao20?type=blog</li></ul> <h2 id="_14-帧动画和补间动画"><a href="#_14-帧动画和补间动画" class="header-anchor">#</a> 14.帧动画和补间动画</h2> <ul><li>帧动画—模型自身的位置，颜色发生变化，无法监听每帧的变化—toFixed(3)—保留小数点3位置，四舍五入 ，x值为：在1-3判断的,0.003</li> <li>补间动画，2点之间，chain形成闭环连接，onUpdate做之间帧的更新，可以监听每帧的变化</li> <li>不在2点上，2点的判断为1.999/2.000—2.003</li></ul> <h2 id="_15-精灵的聚合和分散-点位的拟合"><a href="#_15-精灵的聚合和分散-点位的拟合" class="header-anchor">#</a> 15.精灵的聚合和分散，点位的拟合</h2> <ul><li>三维点的创建方式:CSS2DObject和Sprite精灵</li> <li>CSS2DObject--dom元素包装为CSS2模型对象CSS2DObject</li> <li>Sprite精灵--THREE.Sprite，THREE.SpriteMaterial，THREE.TextureLoader</li> <li>点跟着弹框一起，是如何实现的？—copy，position属性</li></ul> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>法<span class="token number">1</span><span class="token operator">:</span>获取精灵图位置和摄像位置，控制精灵图显示与隐藏
获取两物体的世界坐标然后计算距离
同时判断世界坐标的方向向量，控制在可视化范围内
他们都是基于Object3D的父类，所以getWorldPosition获取世界坐标系，然后使用distanceTo计算<span class="token number">2</span>个的距离，判断就好了

法<span class="token number">2</span>：可以借鉴一些地图引擎，如mapbox

法<span class="token number">3</span>：高度不同，显示点位个数不同
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_16-支持格式"><a href="#_16-支持格式" class="header-anchor">#</a> 16.支持格式</h2> <ul><li>OBJ：.obj文件+.mtl文件</li> <li>glTF：.gltf文件 / .gltf文件+.bin文件 / .glb文</li> <li>FBX：.fbx文件</li> <li>STL：.stl文件</li> <li>图片：PNG / JPEG</li> <li>暂不支持动画</li></ul> <h2 id="_17-点击模型和平面-无法获取到三维点坐标"><a href="#_17-点击模型和平面-无法获取到三维点坐标" class="header-anchor">#</a> 17.点击模型和平面，无法获取到三维点坐标？</h2> <ul><li>在模型加载时，创建平面，1000，1000.基础材质#f00,_Global.getPoint = mesh</li> <li>点击时：let clickArr = raycaster.intersertObject(_Global.getPoint)[0].point</li></ul> <p>扩展：如何让模型可以点击？</p> <ul><li>在blender中设置模型intersectObject(object, recursive),加入射线属性</li></ul> <h2 id="_18-cubetextureloader几张图的位置"><a href="#_18-cubetextureloader几张图的位置" class="header-anchor">#</a> 18.CubeTextureLoader几张图的位置</h2> <ul><li>左，右，上，下，背面，正面</li></ul> <h2 id="_19-对模型的material修改-发现没有生效-为什么-解决方法"><a href="#_19-对模型的material修改-发现没有生效-为什么-解决方法" class="header-anchor">#</a> 19.对模型的material修改，发现没有生效，为什么，解决方法？</h2> <ul><li>material只能是Group类型的才能修改</li> <li>filter筛选出Group类型，遍历修改color和opacity</li></ul></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/gaojieDoc/webGL/cesium.html" class="prev">
            cesium
          </a></span> <span class="next"><a href="/gaojieDoc/lowcode/lowcode.html">
            低代码
          </a></span></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_1-webgl与three-js的基础、与opengl的关系" class="sidebar-link reco-side-_1-webgl与three-js的基础、与opengl的关系" data-v-cb1513f6>1.WebGL与three.js的基础、与opengl的关系</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_2-四大组建" class="sidebar-link reco-side-_2-四大组建" data-v-cb1513f6>2.四大组建</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_3-程序启动和执行顺序" class="sidebar-link reco-side-_3-程序启动和执行顺序" data-v-cb1513f6>3.程序启动和执行顺序</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_4-点-几何体-线材质" class="sidebar-link reco-side-_4-点-几何体-线材质" data-v-cb1513f6>4.点，几何体，线材质</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_5-坐标系" class="sidebar-link reco-side-_5-坐标系" data-v-cb1513f6>5.坐标系</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_6-常用可视化框架" class="sidebar-link reco-side-_6-常用可视化框架" data-v-cb1513f6>6.常用可视化框架</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_7-常见的文件在线地址" class="sidebar-link reco-side-_7-常见的文件在线地址" data-v-cb1513f6>7.常见的文件在线地址</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_8-常见物理引擎" class="sidebar-link reco-side-_8-常见物理引擎" data-v-cb1513f6>8.常见物理引擎</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_9-场景建模软件" class="sidebar-link reco-side-_9-场景建模软件" data-v-cb1513f6>9.场景建模软件</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_10-学shader用的网站" class="sidebar-link reco-side-_10-学shader用的网站" data-v-cb1513f6>10.学shader用的网站</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_11-天空盒" class="sidebar-link reco-side-_11-天空盒" data-v-cb1513f6>11.天空盒</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_12-动画分类" class="sidebar-link reco-side-_12-动画分类" data-v-cb1513f6>12.动画分类</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_13-场景模型来源及学习网址" class="sidebar-link reco-side-_13-场景模型来源及学习网址" data-v-cb1513f6>13.场景模型来源及学习网址</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_14-帧动画和补间动画" class="sidebar-link reco-side-_14-帧动画和补间动画" data-v-cb1513f6>14.帧动画和补间动画</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_15-精灵的聚合和分散-点位的拟合" class="sidebar-link reco-side-_15-精灵的聚合和分散-点位的拟合" data-v-cb1513f6>15.精灵的聚合和分散，点位的拟合</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_16-支持格式" class="sidebar-link reco-side-_16-支持格式" data-v-cb1513f6>16.支持格式</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_17-点击模型和平面-无法获取到三维点坐标" class="sidebar-link reco-side-_17-点击模型和平面-无法获取到三维点坐标" data-v-cb1513f6>17.点击模型和平面，无法获取到三维点坐标？</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_18-cubetextureloader几张图的位置" class="sidebar-link reco-side-_18-cubetextureloader几张图的位置" data-v-cb1513f6>18.CubeTextureLoader几张图的位置</a></li><li class="level-2" data-v-cb1513f6><a href="/gaojieDoc/webGL/webGLBasics.html#_19-对模型的material修改-发现没有生效-为什么-解决方法" class="sidebar-link reco-side-_19-对模型的material修改-发现没有生效-为什么-解决方法" data-v-cb1513f6>19.对模型的material修改，发现没有生效，为什么，解决方法？</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/gaojieDoc/assets/js/app.713b364e.js" defer></script><script src="/gaojieDoc/assets/js/3.cbaeffb4.js" defer></script><script src="/gaojieDoc/assets/js/1.790136b1.js" defer></script><script src="/gaojieDoc/assets/js/20.bf61bf13.js" defer></script>
  </body>
</html>
